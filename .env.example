# Source-License Environment Configuration
# Copy this file to .env and configure your settings

# Application Settings
APP_NAME=Source-License
APP_ENV=development
APP_SECRET=your_secret_key_here_change_this_in_production_for_security_reasons
APP_HOST=localhost
PORT=4567

# Update Management
# Skip automatic update checks on application startup (true/false)
# WARNING: Disabling update checks may expose your system to security vulnerabilities
# Only disable in controlled environments or when using automated update systems
SKIP_UPDATE_CHECK=false

# Organization & Support
SUPPORT_EMAIL=support@yourdomain.com
ORGANIZATION_NAME=Your Organization
ORGANIZATION_URL=https://yourdomain.com

# Security Settings
JWT_SECRET=your_jwt_secret_here_change_in_production_for_security_reasons
#SECURITY_WEBHOOK_URL=https://your-security-monitoring-service.com/webhook
ALLOWED_HOSTS=localhost,127.0.0.1,yourdomain.com,www.yourdomain.com

# Production Configuration
APP_VERSION=1.0.0
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Logging & Monitoring
LOG_LEVEL=info
LOG_FORMAT=json
ERROR_TRACKING_DSN=https://your-sentry-dsn@sentry.io/project

# Performance & Caching
REDIS_URL=redis://localhost:6379/0
ENABLE_CACHING=true
CACHE_TTL=3600

# SSL/TLS Configuration
FORCE_SSL=true
HSTS_MAX_AGE=31536000

# Database Connection Pool
DB_POOL_SIZE=10
DB_TIMEOUT=5000

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_HOUR=1000
RATE_LIMIT_ADMIN_REQUESTS_PER_HOUR=100

# Session Configuration
SESSION_TIMEOUT=28800
SESSION_ROTATION_INTERVAL=7200
BEHIND_LOAD_BALANCER=false

# Database Configuration
# Choose one: mysql, postgresql, or sqlite

# Option 1: MySQL (requires MySQL server)
DATABASE_ADAPTER=mysql
DATABASE_HOST=localhost
DATABASE_PORT=3306
DATABASE_NAME=source_license
DATABASE_USER=root
DATABASE_PASSWORD=your_password

# Option 2: PostgreSQL (requires PostgreSQL server)
# DATABASE_ADAPTER=postgresql
# DATABASE_HOST=localhost
# DATABASE_PORT=5432
# DATABASE_NAME=source_license
# DATABASE_USER=postgres
# DATABASE_PASSWORD=your_password

# Option 3: SQLite (RECOMMENDED for development - no server required)
# DATABASE_ADAPTER=sqlite
# DATABASE_NAME=source_license.db

# Initial Admin Account (Set during installation)
# These credentials are used to create the first admin account
# Remove these lines after first login for security
INITIAL_ADMIN_EMAIL=admin@yourdomain.com
INITIAL_ADMIN_PASSWORD=change_this_secure_password_12_chars_minimum

# Payment Gateway Settings
# Stripe
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# PayPal
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_ENVIRONMENT=sandbox
PAYPAL_WEBHOOK_ID=your_paypal_webhook_id

# Email Configuration (for license delivery)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_TLS=true

# License Settings
LICENSE_VALIDITY_DAYS=365
MAX_ACTIVATIONS_PER_LICENSE=3

# Secure Licensing System
# Secret salt for hashing license keys and machine data (CRITICAL - Change in production)
LICENSE_HASH_SALT=your_secure_license_hash_salt_change_this_in_production_32_chars_minimum
# JWT signing key for secure API responses (CRITICAL - Change in production)  
LICENSE_JWT_SECRET=your_license_jwt_secret_change_this_in_production_for_security_reasons
# Bcrypt cost for license key hashing (10-14 recommended, higher = more secure but slower)
LICENSE_BCRYPT_COST=12
# Enable audit logging for license operations (true/false)
LICENSE_AUDIT_LOGGING=true
# Maximum rate limit failures before temporary ban (per IP)
LICENSE_MAX_RATE_LIMIT_FAILURES=10
# Rate limit window in minutes  
LICENSE_RATE_LIMIT_WINDOW=1
# Default license validation rate limit (requests per window)
LICENSE_VALIDATION_RATE_LIMIT=30
# Default license activation rate limit (requests per window)
LICENSE_ACTIVATION_RATE_LIMIT=10

# Two-Factor Authentication Configuration
# WebAuthn/FIDO2 Settings for hardware security keys
WEBAUTHN_ORIGIN=https://localhost:4567
WEBAUTHN_RP_NAME=Source-License
WEBAUTHN_RP_ID=localhost

# File Storage
DOWNLOADS_PATH=./downloads
LICENSES_PATH=./licenses
